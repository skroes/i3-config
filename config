# i3 config file (v4)
#
#exec echo ".i3/config: DESKTOP_AUTOSTART_ID $DESKTOP_AUTOSTART_ID, registering with org.gnome.SessionManager"
#exec echo "DESKTOP_AUTOSTART_ID $DESKTOP_AUTOSTART_ID, registering with org.gnome.SessionManager"
#exec --no-startup-id ~/.i3/desktop_dbusregister.sh

exec --no-startup-id xset dpms 1200
exec --no-startup-id /home/skroes/.i3/bin/i3_setbackground

#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!
set $mod Mod4
set $ALT Mod1
set $CTRL Control

focus_follows_mouse yes

#allow move to neighbouring screen with hjkl
force_focus_wrapping no

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below. ISO 10646 = Unicode
#font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# ck
# clear in small sizes. However, if you need a lot of unicode glyphs or
# right-to-left text rendering, you should instead use pango for rendering and
# chose a FreeType font, such as:
font pango:DejaVu Sans Mono 10

set $blue #005588
set $gray1 #484848
set $gray1b #343434
set $gray2 #333333
set $darkorage #CB4B16

# class                   border   backgr.    text      indicator
client.focused            $gray1   $darkorage #FFFFFF   #007F7F
client.focused_inactive   $gray2   $gray2     #FFFFFF   #000000
client.unfocused          $gray2   $gray2     #FFFFFF   #000000
client.urgent             #2f343a  #900000    #FFFFFF   #900000

# defaults:?!
# class                 border  backgr. text    indicator
#client.focused          #4c7899 #285577 #ffffff #2e9ef4
#client.focused_inactive #333333 #5f676a #ffffff #484e50
#client.unfocused        #333333 #222222 #888888 #292d2e
#client.urgent           #2f343a #900000 #ffffff #900000
#client.placeholder      #000000 #0c0c0c #ffffff #000000

# use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec terminator

# kill focused window
bindsym $ALT+F4 kill

# start program or applications
#
# start dmenu (a program launcher)
bindsym $ALT+F2 exec "dmenu_run -nb black -p run"

# i3-dmenu-desktop which only displays applications shipping a .desktop file.
# It is a wrapper around dmenu, so you need that installed.
bindsym $mod+d exec --no-startup-id /usr/local/bin/j4-dmenu-desktop
#i3-dmenu-desktop

# filemanager and other shortcuts
bindsym $mod+e exec --no-startup-id pcmanfm

bindsym $ALT+$CTRL+End exec sudo poweroff
bindsym $ALT+$CTRL+PgUp exec lock-keyboard-for-baby-20080706.pl -w
bindsym $ALT+$CTRL+PgDown exec lock-keyboard-for-baby-20080706.pl -w

bindsym $ALT+$CTRL+l exec --no-startup-id gnome-screensaver-command -l
bindsym XF86ScreenSaver exec --no-startup-id gnome-screensaver-command -l

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
#bindsym $mod+Left focus left
#bindsym $mod+Down focus down
#bindsym $mod+Up focus up
#bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
#bindsym $mod+Shift+Left move left
#bindsym $mod+Shift+Down move down
#bindsym $mod+Shift+Up move up
#bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+g split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# enter fullscreen inside the container
bindsym $mod+$CTRL+f focus parent; fullscreen; focus child

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+a layout tabbed
bindsym $mod+z layout toggle split

# container navigation
# focus the parent container
#bindsym $mod+a focus parent
# focus the child container
#bindsym $mod+d focus child

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# shot
bindsym $mod+n exec "~/bin/shot"
#bindsym $mod+backslash exec "~/bin/shot"
#bindsym $XF86Launch1 exec ~/bin/shot

# switch to last workspace
bindsym $mod+minus workspace back_and_forth
bindsym $ALT+Tab workspace back_and_forth
bindsym $mod+Tab workspace back_and_forth

# switch to last workspace when hitting same shortcutkey (actually i dont like this)
#workspace_auto_back_and_forth yes

set $WS1 "1 [ offline ]"
set $WS2 "2 [ chrome ]"
set $WS3 "3 [ social]"
set $WS4 "4 [ term ]"
set $WS5 "5 [ files ]"
set $WS6 "6 [ read ]"
set $WS7 "7 [ term ]"
set $WS8 "8 [ chrome ]"
set $WS9 "9 [ video ]"

# LVDS1 laptop display
# DP1   DisplayPort
# HDMI1 DVI on DPcable
# VGA1  legacy
#
workspace $WS1 output HDMI1
workspace $WS2 output HDMI1
workspace $WS3 output HDMI1
workspace $WS4 output HDMI1
workspace $WS5 output HDMI2
workspace $WS6 output HDMI2
workspace $WS7 output HDMI2
workspace $WS8 output HDMI2
workspace $WS9 output HDMI2
#
#workspace $WS5 output DP-1
#workspace $WS6 output DP-1
#workspace $WS7 output DP-1
#workspace $WS8 output DP-1
#workspace $WS9 output DP-1

# switch to workspace
# 1 2 3 4
bindsym $mod+1 workspace $WS1
bindsym $mod+2 workspace $WS2
bindsym $mod+3 workspace $WS3
bindsym $mod+4 workspace $WS4
bindsym $mod+5 workspace $WS5
bindsym $mod+6 workspace $WS6
bindsym $mod+7 workspace $WS7
bindsym $mod+8 workspace $WS8
bindsym $mod+9 workspace $WS9

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $WS1, exec i3-msg workspace $WS1, focus
bindsym $mod+Shift+2 move container to workspace $WS2, exec i3-msg workspace $WS2, focus
bindsym $mod+Shift+3 move container to workspace $WS3, exec i3-msg workspace $WS3, focus
bindsym $mod+Shift+4 move container to workspace $WS4, exec i3-msg workspace $WS4, focus
bindsym $mod+Shift+5 move container to workspace $WS5, exec i3-msg workspace $WS5, focus
bindsym $mod+Shift+6 move container to workspace $WS6, exec i3-msg workspace $WS6, focus
bindsym $mod+Shift+7 move container to workspace $WS7, exec i3-msg workspace $WS7, focus
bindsym $mod+Shift+8 move container to workspace $WS8, exec i3-msg workspace $WS8, focus
bindsym $mod+Shift+9 move container to workspace $WS9, exec i3-msg workspace $WS9, focus

# move view to workspace prev or next
# $mod + PgUp or PgDown
bindsym $mod+Next        exec i3-msg workspace next
bindsym $mod+XF86Forward exec i3-msg workspace next
bindsym $mod+Prior       exec i3-msg workspace prev
bindsym $mod+XF86Back    exec i3-msg workspace prev


#next_on_output
#prev_on_output

# HIDE EDGE BORDERS
#hide_edge_borders <none|vertical|horizontal|both>
hide_edge_borders none #both
#both

###
### borders
###

# CHANGING BORDER STYLE
bindsym $mod+F9 border normal
bindsym $mod+F10 border 1pixel
bindsym $mod+F11 border none

# F12 toggles the i3bar
bindsym $mod+F12 exec ~/.i3/bin/toggbar

# for newly arrived windows or popups:
new_window 1pixel
new_float normal
#pixel 1

# app specifics:
# fails... for_window [instance="terminator"] border none

###
###
###

# SCRATCHPAD CREATE
bindsym $MOD+SHIFT+plus move scratchpad

# SCRATCHPAD SHOW
bindsym $MOD+plus scratchpad show

# HANDLE POPUPS
popup_during_fullscreen smart


######
######
######
#
# i3
#

bindsym $CTRL+$ALT+Shift+r reload
# reload the configuration file
#bindsym $CTRL+$ALT+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
#bindsym $CTRL+$ALT+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $CTRL+$ALT+Shift+e exec "sudo kill -15 X"
#bindsym $CTRL+$ALT+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

######
######
######
#
# resize th!ng
#

# CTRL + ALT + r resize mode
bindsym $CTRL+$ALT+r mode "resize"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym l resize shrink width  10 px or 10 ppt
        bindsym k resize grow   height 10 px or 10 ppt
        bindsym j resize shrink height 10 px or 10 ppt
        bindsym h resize grow   width  10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Right resize shrink width  10 px or 10 ppt
        bindsym Up    resize grow   height 10 px or 10 ppt
        bindsym Down  resize shrink height 10 px or 10 ppt
        bindsym Left  resize grow   width  10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym q mode "default"
        #?bindcode Control+34 mode "default"
}

#
# command th!ng
#

# CTRL + ALT + e command mode
bindsym $CTRL+$ALT+e mode "command"

# command window (you can also use the mouse for that)
mode "command" {
        # These bindings trigger as soon as you enter the command mode

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym q mode "default"
}

# volume keys UP / DOWN / MUTE
bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master '5%+'"
bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master '5%-'"
bindsym XF86AudioMute exec "amixer -D pulse set Master toggle"
# /usr/bin/pactl set-sink-volume 0 -- '-5%'
#bindsym XF86AudioLowerVolume exec /usr/bin/pactl set-sink-volume @DEFAULT_SINK@ -- '-5%'
#bindsym XF86AudioRaiseVolume exec /usr/bin/pactl set-sink-volume @DEFAULT_SINK@ -- '+5%'

# XF86Launch toggle
# $mod+XF86launch1 is toggle for trackpad
bindsym $mod+XF86Launch1 exec ~/bin/sk_trackpad_toggle

# mod+p or fn-F7 switch display back&forth
bindsym XF86Display exec ~/.i3/bin/i3_display_swap_intern_extern
bindsym $mod+p exec ~/.i3/bin/i3_display_swap_intern_extern

# mod+o or fn-F8(USB keyboard) extend display
#bindsym XF86TouchpadToggle exec ~/.i3/bin/2VGA_DP1.sh
#bindsym $mod+o exec ~/.i3/bin/2VGA_DP1.sh

#XF86Launch1?


#bindsym XF86AudioPlay exec "~/.bin/player toggle"
#bindsym XF86AudioStop exec "~/.bin/player stop"
#bindsym XF86AudioNext exec "~/.bin/player next"
#bindsym XF86AudioPrev exec "~/.bin/player previous"

bindsym XF86MonBrightnessUp exec "/home/skroes/.i3/bin/backlight +20"
bindsym XF86MonBrightnessDown exec ".i3/bin/backlight -20"


# for_window: match new windows and modify there behaviour:
#
for_window [class="MPlayer"] floating enable
for_window [instance="gimp"] floating enable
for_window [class="Empathy"] floating enable
for_window [class="Gcr-prompter"] floating enable

#for_window [window_role="pop-up"] floating enable
#for_window [window_role="pop-up"] floating enable

for_window [class="file_progress"] floating enable
# WS2


# WS3
### Hangouts floats as they are 'pop-up' but we move them to WS3
###
assign     [instance="crx_nckgahadagoaajjgafhacjanaoiihapd"] $WS3
for_window [instance="crx_nckgahadagoaajjgafhacjanaoiihapd"] floating disable
#for_window [instance="crx_nckgahadagoaajjgafhacjanaoiihapd"] focus

#assign     [instance="crx_dlppkpafhbajpcmmoheippocdidnckmm"] $WS3
#for_window [instance="crx_dlppkpafhbajpcmmoheippocdidnckmm"] floating disable
#for_window [instance="crx_dlppkpafhbajpcmmoheippocdidnckmm"] focus
# google+ instance: crx_dlppkpafhbajpcmmoheippocdidnckmm

###
###
#i3-msg [class="xyz"] move to workspace abc

# testing assign for 'evince'
assign [class="^Evince$"] $WS6
for_window [class="^Evince$"] focus

# testing assign for 'video'
assign [class="^xbmc.bin$"] $WS9
for_window [class="^xbmc.bin$"] focus
assign [class="^totem$"] $WS9
for_window [class="^totem$"] focus

# If you'r not prepared to be wrong - you will never come up with anything original

# HDMI1 output
bar {
  #output HDMI1
  mode dock
  hidden_state hide
  position top
  #tray_output LVDS1
  #status_command i3status
  status_command ~/.i3/conky
  colors {
    statusline #AAAAAA
    background #333333
    focused_workspace $blue #00AAAA
    inactive_workspace $gray1 $gray1 #AAAAAA
  }
}

#bar {
#  mode hide
#  hidden_state hide
#  position bottom
#  #tray_output none
#  #status_command ~/.i3/conky
#    workspace_buttons no
#  colors {
#    statusline #AAAAAA
#    background #333333
#    focused_workspace $blue #00AAAA
#    inactive_workspace $gray1 $gray1 #AAAAAA
#  }
#}

#exec --no-startup-id nm-applet
exec volumeicon

# SESSION START WORKSPACE
#exec --no-startup-id i3-msg 'workspace $WS2; exec google-chrome'
#exec --no-startup-id i3-msg 'workspace $WS4; exec terminator'
#exec --no-startup-id i3-msg 'workspace $WS5; exec nautilus'
#exec --no-startup-id i3-msg 'workspace $WS8; exec firefox'

#? bindsym Print exec scrot 'Screenshot - %Y-%m-%d--%_$wx$h_scrot.png' -e 'mv $f ~/images/'

# vim:filetype=i3
